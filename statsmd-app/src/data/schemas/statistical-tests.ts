import type { StatisticalTest } from '../../types';

export const statisticalTests: StatisticalTest[] = [
  {
    id: 'independent-t-test',
    name: 'independent-t-test',
    displayName: 'Independent Samples t-test',
    category: 'parametric',
    applicableTo: {
      outcomeType: ['continuous'],
      predictorTypes: ['binary'],
      comparisonTypes: ['two-groups'],
      studyDesigns: ['rct', 'cohort', 'cross-sectional'],
    },
    assumptions: ['normality', 'homoscedasticity', 'independence'],
    alternatives: ['mann-whitney-u', 'welch-t-test'],
    interpretation: {
      outputMetrics: ['mean difference', 'confidence interval', 'p-value', 't-statistic'],
      clinicalRelevance:
        'Compares means between two independent groups. Effect size (Cohen\'s d) provides clinical significance.',
    },
    examples: [
      'Comparing systolic BP between treatment vs control groups',
      'Comparing age between diseased vs healthy patients',
    ],
  },
  {
    id: 'paired-t-test',
    name: 'paired-t-test',
    displayName: 'Paired t-test',
    category: 'parametric',
    applicableTo: {
      outcomeType: ['continuous'],
      predictorTypes: ['binary'],
      comparisonTypes: ['paired'],
      studyDesigns: ['before-after', 'rct'],
    },
    assumptions: ['normality', 'independence'],
    alternatives: ['wilcoxon-signed-rank'],
    interpretation: {
      outputMetrics: ['mean difference', 'confidence interval', 'p-value'],
      clinicalRelevance: 'Compares paired observations (e.g., before/after treatment in same subjects).',
    },
    examples: ['Blood pressure before and after treatment', 'Pain scores pre/post intervention'],
  },
  {
    id: 'mann-whitney-u',
    name: 'mann-whitney-u',
    displayName: 'Mann-Whitney U test (Wilcoxon Rank-Sum)',
    category: 'non-parametric',
    applicableTo: {
      outcomeType: ['continuous', 'ordinal'],
      predictorTypes: ['binary'],
      comparisonTypes: ['two-groups'],
      studyDesigns: ['rct', 'cohort', 'cross-sectional'],
    },
    assumptions: ['independence'],
    alternatives: ['independent-t-test'],
    interpretation: {
      outputMetrics: ['median difference', 'U statistic', 'p-value'],
      clinicalRelevance:
        'Non-parametric alternative to t-test. Compares distributions/medians between two groups.',
    },
    examples: ['Length of stay (skewed data)', 'Likert scale responses between groups'],
  },
  {
    id: 'wilcoxon-signed-rank',
    name: 'wilcoxon-signed-rank',
    displayName: 'Wilcoxon Signed-Rank test',
    category: 'non-parametric',
    applicableTo: {
      outcomeType: ['continuous', 'ordinal'],
      predictorTypes: ['binary'],
      comparisonTypes: ['paired'],
      studyDesigns: ['before-after', 'rct'],
    },
    assumptions: ['independence'],
    alternatives: ['paired-t-test'],
    interpretation: {
      outputMetrics: ['median difference', 'test statistic', 'p-value'],
      clinicalRelevance: 'Non-parametric alternative for paired data.',
    },
    examples: ['Pain scores before/after treatment (ordinal)', 'Lab values pre/post (non-normal)'],
  },
  {
    id: 'one-way-anova',
    name: 'one-way-anova',
    displayName: 'One-Way ANOVA',
    category: 'parametric',
    applicableTo: {
      outcomeType: ['continuous'],
      predictorTypes: ['categorical'],
      comparisonTypes: ['multiple-groups'],
      studyDesigns: ['rct', 'cohort', 'cross-sectional'],
    },
    assumptions: ['normality', 'homoscedasticity', 'independence'],
    alternatives: ['kruskal-wallis'],
    interpretation: {
      outputMetrics: ['F-statistic', 'p-value', 'eta-squared'],
      clinicalRelevance:
        'Compares means across 3+ groups. Follow up with post-hoc tests (e.g., Tukey) for pairwise comparisons.',
    },
    examples: [
      'Comparing cholesterol across 3 treatment groups',
      'Blood pressure across different age categories',
    ],
  },
  {
    id: 'kruskal-wallis',
    name: 'kruskal-wallis',
    displayName: 'Kruskal-Wallis test',
    category: 'non-parametric',
    applicableTo: {
      outcomeType: ['continuous', 'ordinal'],
      predictorTypes: ['categorical'],
      comparisonTypes: ['multiple-groups'],
      studyDesigns: ['rct', 'cohort', 'cross-sectional'],
    },
    assumptions: ['independence'],
    alternatives: ['one-way-anova'],
    interpretation: {
      outputMetrics: ['H statistic', 'p-value'],
      clinicalRelevance: 'Non-parametric alternative to ANOVA for 3+ groups.',
    },
    examples: ['Pain scores across multiple treatment arms', 'Length of stay across hospital units'],
  },
  {
    id: 'chi-square',
    name: 'chi-square',
    displayName: 'Chi-Square test',
    category: 'non-parametric',
    applicableTo: {
      outcomeType: ['categorical', 'binary'],
      predictorTypes: ['categorical', 'binary'],
      comparisonTypes: ['proportion'],
      studyDesigns: ['rct', 'cohort', 'case-control', 'cross-sectional'],
    },
    assumptions: ['independence'],
    alternatives: ['fisher-exact'],
    interpretation: {
      outputMetrics: ['chi-square statistic', 'p-value', 'expected frequencies'],
      clinicalRelevance: 'Tests association between categorical variables. Not valid if expected cell counts < 5.',
    },
    examples: [
      'Association between smoking status and lung cancer',
      'Treatment response (yes/no) across multiple groups',
    ],
  },
  {
    id: 'fisher-exact',
    name: 'fisher-exact',
    displayName: "Fisher's Exact test",
    category: 'non-parametric',
    applicableTo: {
      outcomeType: ['binary'],
      predictorTypes: ['binary'],
      comparisonTypes: ['proportion'],
      studyDesigns: ['rct', 'cohort', 'case-control', 'cross-sectional'],
    },
    assumptions: ['independence'],
    alternatives: ['chi-square'],
    interpretation: {
      outputMetrics: ['exact p-value', 'odds ratio'],
      clinicalRelevance: 'Exact test for 2x2 tables, especially when sample sizes are small or expected counts < 5.',
    },
    examples: ['Rare outcome in small trial', 'Disease status vs exposure in small sample'],
  },
  {
    id: 'linear-regression',
    name: 'linear-regression',
    displayName: 'Linear Regression',
    category: 'regression',
    applicableTo: {
      outcomeType: ['continuous'],
      predictorTypes: ['continuous', 'categorical', 'binary'],
      comparisonTypes: ['regression'],
      studyDesigns: ['rct', 'cohort', 'cross-sectional'],
    },
    assumptions: ['linearity', 'normality', 'homoscedasticity', 'independence', 'no-multicollinearity'],
    alternatives: [],
    interpretation: {
      outputMetrics: ['regression coefficients', 'R-squared', 'confidence intervals', 'p-values'],
      clinicalRelevance:
        'Models continuous outcome as function of predictors. Coefficients represent change in outcome per unit predictor.',
    },
    examples: ['Predicting blood pressure from age and BMI', 'Hospital length of stay based on severity scores'],
  },
  {
    id: 'logistic-regression',
    name: 'logistic-regression',
    displayName: 'Logistic Regression',
    category: 'regression',
    applicableTo: {
      outcomeType: ['binary'],
      predictorTypes: ['continuous', 'categorical', 'binary'],
      comparisonTypes: ['regression'],
      studyDesigns: ['rct', 'cohort', 'case-control', 'cross-sectional'],
    },
    assumptions: ['independence', 'linearity', 'no-multicollinearity'],
    alternatives: [],
    interpretation: {
      outputMetrics: ['odds ratios', 'confidence intervals', 'p-values', 'AUC'],
      clinicalRelevance:
        'Models probability of binary outcome. Exponentiated coefficients are odds ratios. Note: OR ≠ RR in cohort studies.',
    },
    examples: [
      'Risk of mortality based on clinical factors',
      'Probability of disease given exposure and confounders',
    ],
  },
  {
    id: 'poisson-regression',
    name: 'poisson-regression',
    displayName: 'Poisson Regression',
    category: 'regression',
    applicableTo: {
      outcomeType: ['count'],
      predictorTypes: ['continuous', 'categorical', 'binary'],
      comparisonTypes: ['regression'],
      studyDesigns: ['cohort', 'cross-sectional'],
    },
    assumptions: ['independence'],
    alternatives: ['negative-binomial'],
    interpretation: {
      outputMetrics: ['rate ratios', 'confidence intervals', 'p-values'],
      clinicalRelevance: 'Models count outcomes. Assumes mean = variance. If overdispersed, use negative binomial.',
    },
    examples: ['Number of hospitalizations per year', 'Falls per month in nursing home'],
  },
  {
    id: 'cox-regression',
    name: 'cox-regression',
    displayName: 'Cox Proportional Hazards Regression',
    category: 'survival',
    applicableTo: {
      outcomeType: ['time-to-event'],
      predictorTypes: ['continuous', 'categorical', 'binary'],
      comparisonTypes: ['regression'],
      studyDesigns: ['rct', 'cohort'],
    },
    assumptions: ['proportional-hazards', 'independence'],
    alternatives: [],
    interpretation: {
      outputMetrics: ['hazard ratios', 'confidence intervals', 'p-values'],
      clinicalRelevance:
        'Models time-to-event data. HR > 1 means increased hazard (faster event occurrence). Handles censoring.',
    },
    examples: ['Time to death based on treatment', 'Time to recurrence based on tumor characteristics'],
  },
  {
    id: 'kaplan-meier',
    name: 'kaplan-meier',
    displayName: 'Kaplan-Meier Survival Analysis',
    category: 'survival',
    applicableTo: {
      outcomeType: ['time-to-event'],
      predictorTypes: ['categorical', 'binary'],
      comparisonTypes: ['two-groups', 'multiple-groups'],
      studyDesigns: ['rct', 'cohort'],
    },
    assumptions: ['independence'],
    alternatives: [],
    interpretation: {
      outputMetrics: ['survival curves', 'median survival time', 'log-rank test p-value'],
      clinicalRelevance: 'Visualizes and compares survival between groups. Log-rank test for statistical comparison.',
    },
    examples: [
      'Comparing survival between treatment arms',
      'Disease-free survival across cancer stages',
    ],
  },
  {
    id: 'pearsons-correlation',
    name: 'pearsons-correlation',
    displayName: "Pearson's Correlation",
    category: 'parametric',
    applicableTo: {
      outcomeType: ['continuous'],
      predictorTypes: ['continuous'],
      comparisonTypes: ['correlation'],
      studyDesigns: ['cross-sectional', 'cohort'],
    },
    assumptions: ['linearity', 'normality'],
    alternatives: ['spearman-correlation'],
    interpretation: {
      outputMetrics: ['correlation coefficient (r)', 'p-value'],
      clinicalRelevance: 'Measures linear association. r = -1 to +1. Correlation ≠ causation.',
    },
    examples: ['Correlation between blood pressure and age', 'BMI vs cholesterol'],
  },
  {
    id: 'spearman-correlation',
    name: 'spearman-correlation',
    displayName: "Spearman's Rank Correlation",
    category: 'non-parametric',
    applicableTo: {
      outcomeType: ['continuous', 'ordinal'],
      predictorTypes: ['continuous', 'ordinal'],
      comparisonTypes: ['correlation'],
      studyDesigns: ['cross-sectional', 'cohort'],
    },
    assumptions: [],
    alternatives: ['pearsons-correlation'],
    interpretation: {
      outputMetrics: ['correlation coefficient (rho)', 'p-value'],
      clinicalRelevance: 'Measures monotonic association. Robust to outliers and non-linearity.',
    },
    examples: ['Correlation between ordinal pain scale and lab value', 'Skewed variables correlation'],
  },
];
